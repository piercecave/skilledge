{"ast":null,"code":"var _jsxFileName = \"/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/Event.js\";\nimport React from 'react';\nimport Reason from './Reason';\nimport './Event.css';\nexport class Event extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.displayError = error => {\n      console.log(error);\n    };\n\n    this.checkStatus = response => {\n      if (response.status >= 200 && response.status < 300) {\n        return response;\n      } else {\n        return Promise.reject(new Error(response.status + \": \" + response.statusText));\n      }\n    };\n\n    this.SET_RESULT_URL = process.env.REACT_APP_BACKEND_URL + \"/events/:eventid/result\";\n    this.failure = this.failure.bind(this);\n    this.success = this.success.bind(this);\n    this.state = {\n      reasons: []\n    };\n  }\n\n  success() {\n    const newResult = {\n      resultid: 1\n    };\n    this.handleResult(newResult, () => {\n      this.props.eventUpdated(this.props.event);\n      this.props.onSuccess();\n\n      if (window.gameComponent) {\n        window.gameComponent.startJumping();\n      }\n    });\n  }\n\n  failure() {\n    const newResult = {\n      resultid: 2\n    };\n    this.handleResult(newResult, () => {\n      this.props.eventUpdated(this.props.event);\n      this.props.onFailure(this.props.event);\n\n      if (window.gameComponent) {\n        window.gameComponent.startPlayDead();\n      }\n    });\n  }\n\n  handleResult(newResult, fetchCallback) {\n    fetch(this.SET_RESULT_URL.replace(\":eventid\", this.props.event.EventID), {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newResult)\n    }).then(this.checkStatus).then(fetchCallback).catch(this.displayError);\n  }\n\n  render() {\n    let reasonsList = [];\n\n    if (this.props.event.Reasons && this.props.event.Reasons.length > 0) {\n      reasonsList = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 33\n        }\n      }, \"Notes for improvement:\"), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }, this.props.event.Reasons.map((reason, index) => /*#__PURE__*/React.createElement(Reason, {\n        key: index,\n        reason: reason,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 41\n        }\n      }))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card record-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, this.props.event.SkillName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \"Status: \", this.props.event.ResultName, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 66\n      }\n    }), \"Action: \", this.props.event.HabitAction, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 67\n      }\n    }), \"Time: \", this.props.event.HabitTime, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 63\n      }\n    }), \"Location: \", this.props.event.HabitLocation)), reasonsList, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary mr-1\",\n      onClick: this.success,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \"Success\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: this.failure,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"Not today\")));\n  }\n\n}\nexport default Event;","map":{"version":3,"sources":["/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/Event.js"],"names":["React","Reason","Event","Component","constructor","props","displayError","error","console","log","checkStatus","response","status","Promise","reject","Error","statusText","SET_RESULT_URL","process","env","REACT_APP_BACKEND_URL","failure","bind","success","state","reasons","newResult","resultid","handleResult","eventUpdated","event","onSuccess","window","gameComponent","startJumping","onFailure","startPlayDead","fetchCallback","fetch","replace","EventID","method","credentials","headers","body","JSON","stringify","then","catch","render","reasonsList","Reasons","length","map","reason","index","SkillName","ResultName","HabitAction","HabitTime","HabitLocation"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,aAAP;AAEA,OAAO,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsDnBC,YAtDmB,GAsDHC,KAAD,IAAW;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAxDkB;;AAAA,SA0DnBG,WA1DmB,GA0DJC,QAAD,IAAc;AACxB,UAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,GAAkB,GAAhD,EAAqD;AACjD,eAAOD,QAAP;AACH,OAFD,MAEO;AACH,eAAOE,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUJ,QAAQ,CAACC,MAAT,GAAkB,IAAlB,GAAyBD,QAAQ,CAACK,UAA5C,CAAf,CAAP;AACH;AACJ,KAhEkB;;AAEf,SAAKC,cAAL,GAAsBC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAoC,yBAA1D;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AAEA,SAAKE,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAGH;;AAEDF,EAAAA,OAAO,GAAG;AACN,UAAMG,SAAS,GAAG;AACdC,MAAAA,QAAQ,EAAE;AADI,KAAlB;AAIA,SAAKC,YAAL,CAAkBF,SAAlB,EAA6B,MAAM;AAC/B,WAAKrB,KAAL,CAAWwB,YAAX,CAAwB,KAAKxB,KAAL,CAAWyB,KAAnC;AACA,WAAKzB,KAAL,CAAW0B,SAAX;;AACA,UAAIC,MAAM,CAACC,aAAX,EAA0B;AACtBD,QAAAA,MAAM,CAACC,aAAP,CAAqBC,YAArB;AACH;AACJ,KAND;AAOH;;AAEDb,EAAAA,OAAO,GAAG;AACN,UAAMK,SAAS,GAAG;AACdC,MAAAA,QAAQ,EAAE;AADI,KAAlB;AAIA,SAAKC,YAAL,CAAkBF,SAAlB,EAA6B,MAAM;AAC/B,WAAKrB,KAAL,CAAWwB,YAAX,CAAwB,KAAKxB,KAAL,CAAWyB,KAAnC;AACA,WAAKzB,KAAL,CAAW8B,SAAX,CAAqB,KAAK9B,KAAL,CAAWyB,KAAhC;;AACA,UAAIE,MAAM,CAACC,aAAX,EAA0B;AACtBD,QAAAA,MAAM,CAACC,aAAP,CAAqBG,aAArB;AACH;AACJ,KAND;AAOH;;AAEDR,EAAAA,YAAY,CAACF,SAAD,EAAYW,aAAZ,EAA2B;AAEnCC,IAAAA,KAAK,CAAC,KAAKrB,cAAL,CAAoBsB,OAApB,CAA4B,UAA5B,EAAwC,KAAKlC,KAAL,CAAWyB,KAAX,CAAiBU,OAAzD,CAAD,EAAoE;AACrEC,MAAAA,MAAM,EAAE,OAD6D;AAErEC,MAAAA,WAAW,EAAE,SAFwD;AAGrEC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAH4D;AAMrEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,SAAf;AAN+D,KAApE,CAAL,CAQKqB,IARL,CAQU,KAAKrC,WARf,EASKqC,IATL,CASUV,aATV,EAUKW,KAVL,CAUW,KAAK1C,YAVhB;AAWH;;AAcD2C,EAAAA,MAAM,GAAG;AACL,QAAIC,WAAW,GAAG,EAAlB;;AACA,QAAI,KAAK7C,KAAL,CAAWyB,KAAX,CAAiBqB,OAAjB,IAA4B,KAAK9C,KAAL,CAAWyB,KAAX,CAAiBqB,OAAjB,CAAyBC,MAAzB,GAAkC,CAAlE,EAAqE;AACjEF,MAAAA,WAAW,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAL,eACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK7C,KAAL,CAAWyB,KAAX,CAAiBqB,OAAjB,CAAyBE,GAAzB,CAA6B,CAACC,MAAD,EAASC,KAAT,kBAC1B,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,KAAb;AAAoB,QAAA,MAAM,EAAED,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CADL,CADL,CAAf;AAOH;;AAED,wBACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKjD,KAAL,CAAWyB,KAAX,CAAiB0B,SADtB,CADJ,eAII;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACa,KAAKnD,KAAL,CAAWyB,KAAX,CAAiB2B,UAD9B,eACyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADzC,cAEa,KAAKpD,KAAL,CAAWyB,KAAX,CAAiB4B,WAF9B,eAE0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF1C,YAGW,KAAKrD,KAAL,CAAWyB,KAAX,CAAiB6B,SAH5B,eAGsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHtC,gBAIe,KAAKtD,KAAL,CAAWyB,KAAX,CAAiB8B,aAJhC,CADJ,CAJJ,EAYKV,WAZL,eAaI;AAAQ,MAAA,SAAS,EAAC,sBAAlB;AAAyC,MAAA,OAAO,EAAE,KAAK3B,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAbJ,eAgBI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE,KAAKF,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAhBJ,CADJ,CADJ;AAwBH;;AAxGsC;AA0G3C,eAAenB,KAAf","sourcesContent":["import React from 'react';\nimport Reason from './Reason';\nimport './Event.css';\n\nexport class Event extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.SET_RESULT_URL = process.env.REACT_APP_BACKEND_URL + \"/events/:eventid/result\";\n        this.failure = this.failure.bind(this);\n        this.success = this.success.bind(this);\n\n        this.state = {\n            reasons: []\n        }\n    }\n\n    success() {\n        const newResult = {\n            resultid: 1\n        }\n\n        this.handleResult(newResult, () => {\n            this.props.eventUpdated(this.props.event);\n            this.props.onSuccess();\n            if (window.gameComponent) {\n                window.gameComponent.startJumping();\n            }\n        });\n    };\n\n    failure() {\n        const newResult = {\n            resultid: 2\n        }\n\n        this.handleResult(newResult, () => {\n            this.props.eventUpdated(this.props.event);\n            this.props.onFailure(this.props.event);\n            if (window.gameComponent) {\n                window.gameComponent.startPlayDead();\n            }\n        });\n    }\n\n    handleResult(newResult, fetchCallback) {\n\n        fetch(this.SET_RESULT_URL.replace(\":eventid\", this.props.event.EventID), {\n            method: 'PATCH',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newResult)\n        })\n            .then(this.checkStatus)\n            .then(fetchCallback)\n            .catch(this.displayError);\n    }\n\n    displayError = (error) => {\n        console.log(error);\n    }\n\n    checkStatus = (response) => {\n        if (response.status >= 200 && response.status < 300) {\n            return response;\n        } else {\n            return Promise.reject(new Error(response.status + \": \" + response.statusText));\n        }\n    }\n\n    render() {\n        let reasonsList = [];\n        if (this.props.event.Reasons && this.props.event.Reasons.length > 0) {\n            reasonsList = (<div><h6>Notes for improvement:</h6>\n                                <ul>\n                                    {this.props.event.Reasons.map((reason, index) => (\n                                        <Reason key={index} reason={reason} />\n                                    ))}\n                                </ul>\n                            </div>)\n        }\n\n        return (\n            <div className=\"card record-card\">\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">\n                        {this.props.event.SkillName}\n                    </h5>\n                    <div className=\"card-text\">\n                        <p>\n                            Status: {this.props.event.ResultName}<br />\n                            Action: {this.props.event.HabitAction}<br />\n                            Time: {this.props.event.HabitTime}<br />\n                            Location: {this.props.event.HabitLocation}\n                        </p>\n                    </div>\n                    {reasonsList}\n                    <button className=\"btn btn-primary mr-1\" onClick={this.success}>\n                        Success\n                    </button>\n                    <button className=\"btn btn-danger\" onClick={this.failure}>\n                        Not today\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\nexport default Event;"]},"metadata":{},"sourceType":"module"}