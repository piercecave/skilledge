{"ast":null,"code":"var _jsxFileName = \"/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/MoodReporter.js\";\nimport React from 'react';\nexport class MoodReporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ADD_MOOD_REPORT_URL = process.env.REACT_APP_BACKEND_URL + \"/users/mood-reports\";\n    this.PATCH_MOOD_REPORT_URL = process.env.REACT_APP_BACKEND_URL + \"/users/mood-reports\";\n    this.poor = this.poor.bind(this);\n    this.average = this.average.bind(this);\n    this.great = this.great.bind(this);\n  }\n\n  poor() {\n    this.handleReport(1, () => {\n      this.props.moodUpdated();\n    });\n  }\n\n  average() {\n    this.handleReport(2, () => {\n      this.props.moodUpdated();\n    });\n  }\n\n  great() {\n    this.handleReport(3, () => {\n      this.props.moodUpdated();\n    });\n  }\n\n  handleReport(value, fetchCallback) {\n    if (this.props.currentMoodReport.length === 0) {\n      this.addReport(value, fetchCallback);\n    } else {\n      this.editReport(value, fetchCallback);\n    }\n  }\n\n  addReport(value, fetchCallback) {\n    const newReport = {\n      moodreportdate: this.props.currentDate,\n      moodvalueid: value\n    };\n    fetch(this.ADD_MOOD_REPORT_URL, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newReport)\n    }).then(this.checkStatus).then(fetchCallback).catch(this.displayError);\n  }\n\n  editReport(value, fetchCallback) {\n    const updatedReport = {\n      moodreportid: this.props.currentMoodReport[0].MoodReportID,\n      moodvalueid: value\n    };\n    fetch(this.PATCH_MOOD_REPORT_URL, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedReport)\n    }).then(this.checkStatus).then(fetchCallback).catch(this.displayError);\n  }\n\n  render() {\n    let currentStatus = \"Pending\";\n\n    if (this.props.currentMoodReport && this.props.currentMoodReport.length > 0) {\n      currentStatus = this.props.currentMoodReport[0].MoodValueName;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Mood for \", this.props.currentDate), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body mood-reporter-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \"Current Status: \", currentStatus, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 64\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger mr-1\",\n      onClick: this.poor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"Poor\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary mr-1\",\n      onClick: this.average,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"Average\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success mr-1\",\n      onClick: this.great,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, \"Great\")))));\n  }\n\n}\nexport default MoodReporter;","map":{"version":3,"sources":["/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/MoodReporter.js"],"names":["React","MoodReporter","Component","constructor","props","ADD_MOOD_REPORT_URL","process","env","REACT_APP_BACKEND_URL","PATCH_MOOD_REPORT_URL","poor","bind","average","great","handleReport","moodUpdated","value","fetchCallback","currentMoodReport","length","addReport","editReport","newReport","moodreportdate","currentDate","moodvalueid","fetch","method","credentials","headers","body","JSON","stringify","then","checkStatus","catch","displayError","updatedReport","moodreportid","MoodReportID","render","currentStatus","MoodValueName"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport class MoodReporter extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.ADD_MOOD_REPORT_URL = process.env.REACT_APP_BACKEND_URL + \"/users/mood-reports\";\n        this.PATCH_MOOD_REPORT_URL = process.env.REACT_APP_BACKEND_URL + \"/users/mood-reports\";\n        this.poor = this.poor.bind(this);\n        this.average = this.average.bind(this);\n        this.great = this.great.bind(this);\n    }\n\n    poor() {\n        this.handleReport(1, () => {\n            this.props.moodUpdated();\n        });\n    };\n\n    average() {\n        this.handleReport(2, () => {\n            this.props.moodUpdated();\n        });\n    };\n\n    great() {\n        this.handleReport(3, () => {\n            this.props.moodUpdated();\n        });\n    };\n\n    handleReport(value, fetchCallback) {\n        if (this.props.currentMoodReport.length === 0) {\n            this.addReport(value, fetchCallback);\n        } else {\n            this.editReport(value, fetchCallback)\n        }\n    }\n\n    addReport(value, fetchCallback) {\n        const newReport = {\n            moodreportdate: this.props.currentDate,\n            moodvalueid: value\n        }\n\n        fetch(this.ADD_MOOD_REPORT_URL, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newReport)\n        })\n            .then(this.checkStatus)\n            .then(fetchCallback)\n            .catch(this.displayError);\n    }\n\n    editReport(value, fetchCallback) {\n        const updatedReport = {\n            moodreportid: this.props.currentMoodReport[0].MoodReportID,\n            moodvalueid: value\n        }\n\n        fetch(this.PATCH_MOOD_REPORT_URL, {\n            method: 'PATCH',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(updatedReport)\n        })\n            .then(this.checkStatus)\n            .then(fetchCallback)\n            .catch(this.displayError);\n    }\n\n    render() {\n\n        let currentStatus = \"Pending\";\n\n        if (this.props.currentMoodReport && this.props.currentMoodReport.length > 0) {\n            currentStatus = this.props.currentMoodReport[0].MoodValueName;\n        }\n\n        return (\n            <div>\n                <h3 className=\"card-header\">Mood for {this.props.currentDate}</h3>\n                <div className=\"card-body mood-reporter-body\">\n                    <div>\n                        <div className=\"card-text\">\n                            <p>\n                                Current Status: {currentStatus}<br />\n                            </p>\n                        </div>\n                        <div>\n                            <button className=\"btn btn-danger mr-1\" onClick={this.poor}>\n                                Poor\n                            </button>\n                            <button className=\"btn btn-primary mr-1\" onClick={this.average}>\n                                Average\n                            </button>\n                            <button className=\"btn btn-success mr-1\" onClick={this.great}>\n                                Great\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default MoodReporter;"]},"metadata":{},"sourceType":"module"}