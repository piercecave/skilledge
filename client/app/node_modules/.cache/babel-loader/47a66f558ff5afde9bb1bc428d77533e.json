{"ast":null,"code":"var _jsxFileName = \"/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/Login.js\";\nimport React from 'react';\nimport { Header } from './Header';\nimport './Login.css';\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Log In';\n    this.BASE_URL = process.env.REACT_APP_BACKEND_URL + \"/sessions\";\n    this.initLogin = this.initLogin.bind(this);\n  }\n\n  initLogin(event) {\n    event.preventDefault();\n    this.authenticate();\n  }\n\n  authenticate() {\n    const user = {\n      email: this.idValue('Email'),\n      password: this.idValue('Password')\n    };\n    fetch(this.BASE_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user),\n      credentials: 'include'\n    }).then(this.checkStatus).then(this.redirect).catch(this.displayError);\n  }\n\n  redirect() {\n    window.location = \"./../\";\n  }\n\n  displayError(error) {\n    // Retrieve container for displaying error\n    console.log(error); // const metaContainer = this.id('meta-container');\n    // if (metaContainer.classList.contains(\"hidden\")) {\n    //   metaContainer.classList.remove(\"hidden\");\n    // }\n    // metaContainer.innerHTML = \"\";\n    // // Render error\n    // const errorMsg = document.createElement('h2');\n    // errorMsg.classList.add(\"error-msg\");\n    // errorMsg.textContent = error;\n    // metaContainer.appendChild(errorMsg);\n  }\n\n  id(idName) {\n    return document.getElementById(idName);\n  }\n\n  idValue(idName) {\n    return document.getElementById(idName).value;\n  }\n\n  checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n      return response;\n    } else {\n      return Promise.reject(new Error(response.status + \": \" + response.statusText));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"Sign In\")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"Email\",\n      className: \"form-control\",\n      id: \"Email\",\n      placeholder: \"Enter email\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"Password\",\n      className: \"form-control\",\n      id: \"Password\",\n      placeholder: \"Enter password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.initLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"a\", {\n      id: \"create-account\",\n      href: \"./../sign_up/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, \"Create an account\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"meta-container\",\n      className: \"hidden card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\nexport default Login;","map":{"version":3,"sources":["/Users/roymosby/Desktop/CapstoneProject/skilledge/client/app/src/Login.js"],"names":["React","Header","Login","Component","constructor","props","document","title","BASE_URL","process","env","REACT_APP_BACKEND_URL","initLogin","bind","event","preventDefault","authenticate","user","email","idValue","password","fetch","method","headers","body","JSON","stringify","credentials","then","checkStatus","redirect","catch","displayError","window","location","error","console","log","id","idName","getElementById","value","response","status","Promise","reject","Error","statusText","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Header } from './Header';\nimport './Login.css';\n\nexport class Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    document.title = 'Log In';\n\n    this.BASE_URL = process.env.REACT_APP_BACKEND_URL + \"/sessions\";\n    this.initLogin = this.initLogin.bind(this);\n  }\n\n  initLogin(event) {\n    event.preventDefault();\n    this.authenticate();\n  };\n\n  authenticate() {\n    const user = {\n      email: this.idValue('Email'),\n      password: this.idValue('Password'),\n    }\n    fetch(this.BASE_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user),\n      credentials: 'include'\n    }).then(this.checkStatus)\n      .then(this.redirect)\n      .catch(this.displayError);\n  }\n\n  redirect() {\n    window.location = \"./../\";\n  }\n\n  displayError(error) {\n    // Retrieve container for displaying error\n    console.log(error);\n    // const metaContainer = this.id('meta-container');\n    // if (metaContainer.classList.contains(\"hidden\")) {\n    //   metaContainer.classList.remove(\"hidden\");\n    // }\n    // metaContainer.innerHTML = \"\";\n\n    // // Render error\n    // const errorMsg = document.createElement('h2');\n    // errorMsg.classList.add(\"error-msg\");\n    // errorMsg.textContent = error;\n    // metaContainer.appendChild(errorMsg);\n  }\n\n  id(idName) {\n    return document.getElementById(idName);\n  }\n\n  idValue(idName) {\n    return document.getElementById(idName).value;\n  }\n\n  checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n      return response;\n    } else {\n      return Promise.reject(new Error(response.status + \": \" + response.statusText));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Login\" >\n        <Header />\n        <section id=\"login-form\">\n          <div className=\"page-header\">\n            <h1>Sign In</h1>\n          </div>\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"Email\">Email</label>\n              <input type=\"Email\" className=\"form-control\" id=\"Email\" placeholder=\"Enter email\" required />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"Password\">Password</label>\n              <input type=\"Password\" className=\"form-control\" id=\"Password\" placeholder=\"Enter password\" required />\n            </div>\n            <button id=\"submit\" className=\"btn btn-primary\" onClick={this.initLogin}>Submit</button>\n          </form>\n          <a id=\"create-account\" href=\"./../sign_up/\">Create an account</a>\n          <div id=\"meta-container\" className=\"hidden card\"></div>\n        </section>\n      </div>\n    );\n  }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}